#include <stdio.h>
#include <string.h>

int main() {
  int nbytes = 4096;
  char *input = (char *) malloc(nbytes + 1);
  char *input_copy = (char *) malloc(nbytes + 1);

  int bytes_read = getline(&input, &nbytes, stdin);
  int length = strlen(input);
  memcpy(input_copy, input, length);

  // mimic original
  unsigned int i = 0;
  unsigned int z = 0;
  for (i=0; i < length; ) {
    input[i] += z;
    z++;
    i++;
  }
  for (i=0; i < length; i++) {
    fprintf(stderr, "%c", input[i]);
  }

  // decrypt input
  for (i=length; i > 0; ) {
    i--;
    z--;
    input_copy[i] -= z;
  }
  fprintf(stderr, "[");
  for (i=0; i < length; i++) {
    fprintf(stderr, "%c", input_copy[i]);
  }
  fprintf(stderr, "]");

}

